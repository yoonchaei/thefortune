# Blueprint: The Fortune - 사주 커뮤니티

## 1. 개요

'The Fortune'은 사주와 운세에 대한 지식과 이야기를 나누는 웹사이트입니다. 관리자가 제공하는 전문적인 사주 정보를 열람하고, 특정 주제에 대해 다른 사용자들과 자유롭게 의견을 나눌 수 있는 커뮤니티 기능을 제공합니다. 이 프로젝트는 Firebase Firestore를 백엔드로 사용하여 실시간 데이터 동기화를 구현합니다.

## 2. 디자인 및 스타일 가이드 (v2 - Refined)

*   **테마:** 따뜻하고, 우아하며, 정돈된 느낌 (Warm, Elegant, Clean)
*   **폰트:**
    *   **헤드라인:** Song Myung (세리프, 서정적)
    *   **본문:** Gowun Dodum (산세리프, 단아함)
*   **색상 팔레트:**
    *   **배경:** `#fdfaf8` (부드러운 크림색)
    *   **주요 텍스트:** `#3d3539` (따뜻한 다크 그레이)
    *   **포인트 색상 1:** `#b0899a` (더스티 로즈)
    *   **포인트 색상 2:** `#e1c699` (소프트 골드)
    *   **보조 텍스트:** `#8a8184`
    *   **경계선:** `#f0e9e7`

## 3. 기능 명세 (v2)

### 3.1. 공통 기능
*   **반응형 디자인:** 데스크톱 및 모바일 환경을 모두 지원합니다.
*   **네비게이션:** 헤더를 통해 모든 페이지로 이동합니다.

### 3.2. 페이지별 기능

**1. 소개 페이지 (`index.html`)**
*   사이트의 목적과 기능을 소개하는 정적 페이지입니다.

**2. 사주 정보 페이지 (`information.html`) - 블로그 형식**
*   **기능:** 관리자(운영자)만 글을 작성, 수정, 삭제할 수 있습니다.
*   **사용자:** 일반 사용자는 게시된 글을 읽기만 할 수 있습니다.
*   **데이터:** Firestore `posts` 컬렉션에서 `category: 'information'`인 문서를 사용합니다.

**3. 질문과 답 (`qna.html`) & 사주 잡담 (`free.html`) - 토론장 형식**
*   **기능:** 관리자가 미리 등록한 특정 주제(글)에 대해 사용자들이 댓글과 대댓글로 의견을 나눕니다.
*   **사용자:** 글쓰기 기능은 없으며, 댓글/대댓글 작성 및 삭제만 가능합니다.
*   **데이터 구조:**
    *   **게시글:** `posts` 컬렉션 (`category: 'qna'` 또는 `'free'`)
    *   **댓글:** 각 게시글 문서 내에 `comments`라는 하위 컬렉션(subcollection)을 생성하여 관리합니다. (`posts/{postId}/comments/{commentId}`)
    *   **대댓글:** 각 댓글 문서에 `replies`라는 배열(Array) 필드를 추가하여 관리합니다.

### 3.3. 데이터베이스 (Firestore)
*   `posts` 컬렉션: 모든 게시글을 저장합니다.
    *   필드: `title`, `content`, `category`, `createdAt`, `authorId` (관리자용)
*   `posts/{postId}/comments` 하위 컬렉션: 각 게시글의 댓글을 저장합니다.
    *   필드: `text`, `createdAt`, `author`, `replies` (대댓글 배열)

## 4. 현재 진행 상황: 기능 재편

**목표:** 각 메뉴의 목적에 맞게 페이지 기능을 재정의하고 구현합니다.

**작업 단계:**

1.  **`blueprint.md` 업데이트:** 변경된 기능 명세와 데이터 구조를 반영. (완료)
2.  **`information.html` 수정:** 관리자용 블로그로 역할을 명확히 하고, 일반 사용자에게는 글쓰기/수정 버튼이 보이지 않도록 UI/UX를 조정합니다. (진행 예정)
3.  **`qna.html` 및 `free.html` 재구축:**
    *   기존 글쓰기 관련 UI(버튼, 모달)를 제거합니다.
    *   각 게시글 아래에 댓글 목록과 댓글 입력 폼을 추가합니다.
    *   대댓글 작성 기능을 구현합니다.
4.  **`board-comment.js` 신규 생성:** 댓글/대댓글 관련 CRUD 로직을 처리할 새로운 자바스크립트 파일을 작성합니다.
5.  **`board.js` 수정:** `information` 페이지의 관리자 기능 로직을 담당하도록 수정합니다.
6.  **`style.css` 업데이트:** 댓글 및 대댓글 UI에 대한 스타일을 추가합니다.
